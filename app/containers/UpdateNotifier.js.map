{"version":3,"sources":["containers/UpdateNotifier.js"],"names":["actions","UpdateNotifier","props","_close","bind","console","log","electron","window","require","ipc","ipcRenderer","send","shell","openExternal","dispatch","hideUpdateNotifier","update","show","action","_openUrl","releaseName","_quitAndInstall","select","state"],"mappings":";;;;;;;;AAAA;;;;AACA;;;;AACA;;AACA;;;;AACA;;AACA;;IAAYA,O;;;;;;;;;;;;IAENC,c;;;AAEJ,0BAAYC,KAAZ,EAAmB;AAAA;;AAAA,gIACXA,KADW;;AAEjB,UAAKC,MAAL,GAAc,MAAKA,MAAL,CAAYC,IAAZ,OAAd;AAFiB;AAGlB;;;;wCAEmB;AAClBC,cAAQC,GAAR,CAAY,wBAAZ,EAAsC,KAAKJ,KAA3C;AACD;;;sCAEiB;AAChB,UAAMK,WAAWC,OAAOC,OAAP,CAAe,UAAf,CAAjB;AACA,UAAMC,MAAMH,SAASI,WAArB;AACAD,UAAIE,IAAJ,CAAS,kBAAT;AACD;;;+BAEU;AACT,UAAML,WAAWC,OAAOC,OAAP,CAAe,UAAf,CAAjB;AACAF,eAASM,KAAT,CAAeC,YAAf,CAA4B,2DAA5B;AACD;;;6BAEQ;AACP,WAAKZ,KAAL,CAAWa,QAAX,CAAoBf,QAAQgB,kBAAR,EAApB;AACD;;;6BAEQ;AAAA;;AACP,aACE;AAAA;AAAA,UAAK,WAAW,oDAAkD,KAAKd,KAAL,CAAWe,MAAX,CAAkBC,IAAlB,GAAuB,MAAvB,GAA8B,EAAhF,CAAhB;AACE;AAAA;AAAA,YAAK,WAAU,0DAAf,EAA0E,MAAK,OAA/E;AACE;AAAA;AAAA,cAAQ,WAAU,0DAAlB,EAA6E,SAAS;AAAA,uBAAM,OAAKf,MAAL,EAAN;AAAA,eAAtF;AACE;AAAA;AAAA,gBAAK,eAAa,IAAlB,EAAwB,WAAU,mBAAlC;AACE,qDAAK,WAAU,8DAAf;AADF,aADF;AAIE;AAAA;AAAA,gBAAM,WAAU,qBAAhB;AAAA;AAAA;AAJF,WADF;AAOE;AAAA;AAAA,cAAM,WAAU,qBAAhB;AAAA;AAAA,WAPF;AAQE;AAAA;AAAA;AAEE,iBAAKD,KAAL,CAAWe,MAAX,CAAkBE,MAAlB,KAA6B,MAA7B,IAIA;AAAA;AAAA;AACE;AAAA;AAAA,kBAAG,MAAK,qBAAR,EAA8B,SAAS;AAAA,2BAAM,OAAKC,QAAL,EAAN;AAAA,mBAAvC;AAAA;AAAwE,qBAAKlB,KAAL,CAAWe,MAAX,CAAkBI;AAA1F,eADF;AAAA;AAEE;AAAA;AAAA,kBAAG,IAAG,SAAN,EAAgB,MAAK,GAArB,EAAyB,SAAS;AAAA,2BAAM,OAAKC,eAAL,EAAN;AAAA,mBAAlC;AAAA;AAAA,eAFF;AAAA;AAAA,aANF;AAcE,iBAAKpB,KAAL,CAAWe,MAAX,CAAkBE,MAAlB,KAA6B,UAA7B,IAIA;AAAA;AAAA;AAAA;AACmB,mBAAKjB,KAAL,CAAWe,MAAX,CAAkBI,WADrC;AAAA;AACoE;AAAA;AAAA,kBAAG,MAAK,qBAAR,EAA8B,SAAS;AAAA,2BAAM,OAAKD,QAAL,EAAN;AAAA,mBAAvC;AAAA;AAAA,eADpE;AAAA;AAAA;AAlBF;AARF;AADF,OADF;AAmCD;;;;;;AAGH,SAASG,MAAT,CAAgBC,KAAhB,EAAuB;AACrB,SAAOA,KAAP;AACD;;kBAEc,yBAAQD,MAAR,EAAgBtB,cAAhB,C","file":"containers/UpdateNotifier.js","sourcesContent":["import React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport { connect } from 'react-redux';\nimport WebView from './WebView';\nimport { bindActionCreators } from 'redux';\nimport * as actions from '../actions/actions';\n\nclass UpdateNotifier extends Component {\n\n  constructor(props) {\n    super(props);\n    this._close = this._close.bind(this);\n  }\n\n  componentDidMount() {\n    console.log('UpdateNotifier PROPS: ', this.props);\n  }\n\n  _quitAndInstall() {\n    const electron = window.require('electron');\n    const ipc = electron.ipcRenderer;\n    ipc.send('quit-and-install');\n  }\n\n  _openUrl() {\n    const electron = window.require('electron');\n    electron.shell.openExternal('https://github.com/joeferraro/MavensMate-Desktop/releases');\n  }\n\n  _close() {\n    this.props.dispatch(actions.hideUpdateNotifier())\n  }\n\n  render() {\n    return (\n      <div className={\"slds-notify_container desktop-update-notifier \"+(this.props.update.show?'show':'')}>\n        <div className=\"slds-notify slds-notify--alert slds-theme--alert-texture\" role=\"alert\">\n          <button className=\"slds-button slds-notify__close slds-button--icon-inverse\" onClick={() => this._close()}>\n            <svg aria-hidden={true} className=\"slds-button__icon\">\n              <use xlinkHref=\"styles/lds/assets/icons/utility-sprite/svg/symbols.svg#close\"></use>\n            </svg>\n            <span className=\"slds-assistive-text\">Close</span>\n          </button>\n          <span className=\"slds-assistive-text\">Info</span>\n          <h2>\n          {\n            this.props.update.action === 'quit'\n\n            &&\n\n            <span>\n              <a href=\"javascript:void(0);\" onClick={() => this._openUrl()}>Version { this.props.update.releaseName }</a> is ready to install.&nbsp;&nbsp;\n              <a id=\"install\" href=\"#\" onClick={() => this._quitAndInstall()}>Restart MavensMate</a> to upgrade.\n            </span>\n\n          }\n\n          {\n            this.props.update.action === 'download'\n\n            &&\n\n            <span>\n              A new version (v{this.props.update.releaseName}) of MavensMate is <a href=\"javascript:void(0);\" onClick={() => this._openUrl()}>ready for download</a>.</span>\n          }\n          </h2>\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction select(state) {\n  return state;\n}\n\nexport default connect(select)(UpdateNotifier);\n"],"sourceRoot":"/source/"}