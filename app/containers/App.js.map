{"version":3,"sources":["containers/App.js"],"names":["actions","App","console","log","props","dispatch","electron","window","require","ipc","ipcRenderer","remote","on","evt","url","addView","showViewManager","releaseName","action","showUpdateNotifier","addEventListener","_handleKeyDown","e","metaKey","altKey","which","getCurrentWindow","openDevTools","webview","document","querySelector","goBack","goForward","setForm","name","target","value","preventDefault","refs","nameField","trim","addName","select","state"],"mappings":"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","file":"containers/App.js","sourcesContent":["import React, { Component } from 'react';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport WebView from 'react-electron-webview';\nimport * as actions from '../actions/actions';\nimport Views from './Views';\nimport ViewManager from './ViewManager';\nimport Loading from './Loading';\nimport UpdateNotifier from './UpdateNotifier';\n\nclass App extends Component {\n  componentDidMount() {\n    console.log('APP PROPS: ', this.props);\n\n    const { dispatch } = this.props;\n    const electron = window.require('electron');\n    const ipc = electron.ipcRenderer;\n    const remote = electron.remote;\n\n    ipc.on('new-web-view', function(evt, url) {\n      dispatch(actions.addView(url));\n    });\n\n    ipc.on('show-view-manager', function(evt) {\n      console.log('showing view manager');\n      dispatch(actions.showViewManager());\n    });\n\n    ipc.on('show-update-notifier', function(evt, releaseName, action) {\n      console.log('showing update notifier', releaseName, action);\n      dispatch(actions.showUpdateNotifier(releaseName, action));\n    });\n\n    // dispatch(actions.showUpdateNotifier('0.0.12', 'quit'));\n\n    window.addEventListener('keydown', _handleKeyDown, false);\n\n    function _handleKeyDown(e) {\n      console.log(e);\n      if (e.metaKey && e.altKey && e.which === 73) {\n        // cmd + option + k to open electron dev tools\n        remote.getCurrentWindow().openDevTools();\n        return false;\n      } else if (e.metaKey && e.altKey && e.which === 75) {\n        // cmd + option + i to open core dev tools\n        var webview = document.querySelector('webview:not(.hide)');\n        webview.openDevTools();\n        return false;\n      } else if (e.metaKey && e.which === 78) {\n        // cmd + n to open app launcher\n        dispatch(actions.showViewManager());\n      } else if (e.metaKey && e.which === 82) {\n        // ctrl + r to reload page\n        // var webview = document.querySelector('webview:not(.hide)');\n        // webview.reload();\n        // e.preventDefault();\n      } else if (e.metaKey && e.which === 219) {\n        // ctrl + [ to go back\n        var webview = document.querySelector('webview:not(.hide)');\n        webview.goBack();\n      } else if (e.metaKey && e.which === 221) {\n        // ctrl + ] to go forward\n        var webview = document.querySelector('webview:not(.hide)');\n        webview.goForward();\n      }\n    }\n  }\n\n  onChange(e) {\n    this.props.setForm({ name: e.target.value });\n  }\n\n  handleClick(e) {\n    e.preventDefault();\n    const name = this.refs.nameField.value.trim();\n    this.props.addName({ name });\n  }\n\n  render() {\n    const { dispatch } = this.props;\n    return (\n      <div>\n        <Views {...bindActionCreators(actions, dispatch)}/>\n        <ViewManager {...bindActionCreators(actions, dispatch)}/>\n        <Loading {...bindActionCreators(actions, dispatch)}/>\n        <UpdateNotifier {...bindActionCreators(actions, dispatch)}/>\n      </div>\n    );\n  }\n}\n\nfunction select(state) {\n  return state;\n}\n\nexport default connect(select)(App);\n"],"sourceRoot":"/source/"}